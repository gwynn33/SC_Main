{% extends "base_html/base1.html" %}
{% block css_file%}
    <link rel="stylesheet" href="/css/Qr_code_page.css">
{% endblock %}
{% block title %}Qr Scanner{% endblock %}
{% block content %}
    <nav class="nav-bar">
        <div class="elements">
            <a href="#"><img src="/static/media/logo.svg" alt=""></a>
        </div>
    </nav>

    <div class="main-container">
        <div id="camera_container" class="info-container">

        </div>
    </div>
    <script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>
    <script>
        function Qrscanner() {
            try {
                function success_scanning(decodedtext,decodedresult) {
                    const data =  JSON.stringify(decodedtext);
                    alert("Data Requested Successfully !")
                    console.log(data);
                }
                function failed_scanning(error) {
                    console.log("something Wrong : ",error);
                }
                const scanner =  new Html5QrcodeScanner(
                    "camera_container",
                    {fps:10,qrbox:250},
                    false
                )
                scanner.render(success_scanning,failed_scanning);
            }catch (error) {
                console.error(error);
            }
        }
        Qrscanner();
    </script>
{% endblock %}